

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Filenames &mdash; Bots EDI Translator 3.2.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Bots EDI Translator 3.2.0 documentation" href="../../../"/>
        <link rel="up" title="Channels" href="../"/>
        <link rel="next" title="Channel Port Numbers" href="../channel-ports/"/>
        <link rel="prev" title="Channel Scripting" href="../channel-scripting/"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../" class="icon icon-home"> Bots EDI Translator
          

          
            
            <img src="../../../_static/botslogo_square2.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                3.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../readme/">Welcome to <code class="docutils literal"><span class="pre">Bots</span></code>&#8216;s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../get-bots-running/">Get Bots Running</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../quick-start-guide/">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide-for-botsmonitor/">Guide For Bots-Monitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Configuration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../how-to-configuration/">How to do configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../route/">Routes</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../">Channels</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../standard-comms/">Standard Communications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../database/">Database Communication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../channel-scripting/">Channel Scripting</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Filenames</a></li>
<li class="toctree-l3"><a class="reference internal" href="../channel-ports/">Channel Port Numbers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../file-locking/">Safe File Writing/Locking</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../translation/">Translation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mapping-scripts/">Mapping Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../grammars/">Grammars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../document-view/">Document View</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user-scripting/">User Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../acknowledgements/">Confirmations/Acknowledgements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../split-merge/">Split, Merge and Envelope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../partner/">EDI Partners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../charsets/">Characters Sets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../deployment/">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced-deployment/">Advanced Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../plugins/">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debugging/">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../change-migrate/">Changes and Migrate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../new-to-python/">New to python?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../external-reference/">External reference links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../useful-tools/">Useful Tools</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../">Bots EDI Translator</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../">Docs</a> &raquo;</li>
      
          <li><a href="../../">Configuration</a> &raquo;</li>
      
          <li><a href="../">Channels</a> &raquo;</li>
      
    <li>Filenames</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/configuration/channel/filenames.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="filenames">
<h1>Filenames<a class="headerlink" href="#filenames" title="Permalink to this headline">Â¶</a></h1>
<p>In a perfect world, filenames are unimportant in the EDI flow. All that is required is that they are unique so no file is ever overwritten. Bots takes care of this automatically by default when creating files, by using counters to generate unique numeric filenames.</p>
<p>But sometimes in the <strong>real world</strong> implementation of system interfaces, you want or need to have specific filenames:</p>
<ul class="simple">
<li>Because your trading partner requires it</li>
<li>Limitations of other systems regarding filenames</li>
<li>To provide easy identification of files</li>
<li>Nicer for end users (eg. when emailing attachments)</li>
</ul>
<p><strong>Input Filenames</strong></p>
<p>Bots uses <a class="reference external" href="filenamepatternmatching">filename pattern matching</a> to select input files.
This allows you to select all files, or only specific files, from the channel path. Some points to consider:</p>
<ul>
<li><p class="first">Many types of channel (eg. ftp) are case sensitive. <code class="docutils literal"><span class="pre">*.TXT</span></code> is not the same as <code class="docutils literal"><span class="pre">*.txt</span></code></p>
</li>
<li><p class="first">Files with and without extensions may be treated differently; <code class="docutils literal"><span class="pre">*</span></code> is not the same as <code class="docutils literal"><span class="pre">*.*</span></code></p>
</li>
<li><p class="first">For <strong>safety</strong> you should use a partially specified name if possible. This prevents accidentally picking up files that should not be there. eg. use <code class="docutils literal"><span class="pre">ORDER*.TXT</span></code> rather than <code class="docutils literal"><span class="pre">*.*</span></code></p>
</li>
<li><p class="first">For an in-channel with type=file a wild-card can be used in the path.If directory structure is like this:</p>
<blockquote>
<div><ul class="simple">
<li><ul class="first">
<li>botssys/infile/partner1</li>
</ul>
</li>
<li><ul class="first">
<li>botssys/infile/partner2</li>
</ul>
</li>
<li><ul class="first">
<li>botssys/infile/partner3</li>
</ul>
</li>
<li>Use path botssys/infile/* to read the files in all these directories.</li>
</ul>
</div></blockquote>
</li>
</ul>
<p><strong>Output Filenames</strong></p>
<ul class="simple">
<li>A unique name can be generated with an asterisk; the asterisk is replaced by an unique number. Eg: <code class="docutils literal"><span class="pre">order_*.edi</span></code> -&gt; order1.edi, order2.edi, order3.edi etc</li>
<li>(bots &gt; = 3.0) Any ta value can be used; eg. {botskey}, {alt}, {editype}, {messagetype}, {frompartner}, {topartner}, {fromchannel}, {tochannel}, {idroute}.</li>
<li>(bots &gt; = 3.0) Date/time using {datetime} with any valid <a class="reference external" href="http://docs.python.org/library/time.html#time.strftime">date or time format</a> specification; eg. {datetime:%Y%m%d}, {datetime:%H%M%S} etc.</li>
<li>(bots &gt; = 3.0) Incoming filename can be used (name and extension, or either part separately); eg. {infile}, {infile:name}, {infile:ext}</li>
</ul>
<p>Some examples are shown in the table below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="50%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Channel filename</th>
<th class="head">Description</th>
<th class="head">Example filename generated</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>* or blank</td>
<td>create a unique name, no extension</td>
<td>39724</td>
</tr>
<tr class="row-odd"><td>*.txt</td>
<td>create a unique name with .txt extension</td>
<td>39724.txt</td>
</tr>
<tr class="row-even"><td>{botskey}.txt</td>
<td>use incoming botskey value (eg. order number) with .txt extension. Note: {botskey} can only be used if merge is False for the messagetype</td>
<td>BA7358-0.txt</td>
</tr>
<tr class="row-odd"><td>{infile}</td>
<td>passthrough incoming filename &amp; extension to output</td>
<td>Order001.edi</td>
</tr>
<tr class="row-even"><td>{infile:name}.txt</td>
<td>passthrough incoming filename but change extension to .txt</td>
<td>Order001.txt</td>
</tr>
<tr class="row-odd"><td>{editype}_{messagetype}_{datetime:%Y%m%d}_*.{infile:ext}</td>
<td>use editype, messagetype, date and unique number with extension from the incoming file</td>
<td>edifact_ORDERSD93AUN_20120926_39724.edi</td>
</tr>
<tr class="row-even"><td>{frompartner}/{editype}/{infile}</td>
<td>You can also use subdirectories in the filename, but they must already exist. These will be appended to the path.</td>
<td>KMART/edifact/Order001.edi</td>
</tr>
<tr class="row-odd"><td>{frompartner}/INPUT/ORDER_{botskey}.csv</td>
<td>Fixed values can also be included as part of the directory structure or filename</td>
<td>KMART/INPUT/ORDER_BA7358-0.csv</td>
</tr>
<tr class="row-even"><td>{overwrite}daily_report.txt</td>
<td>Force overwriting of a file if it exists. <strong>Use this with caution; make sure it is really what you want!</strong> May be required on some sftp servers that do not support append mode.</td>
<td>daily_report.txt</td>
</tr>
<tr class="row-odd"><td>{infile[4]}{infile[5]}{infile[6]}{infile[7]}.xml</td>
<td>This functionality uses the Python <a class="reference external" href="http://docs.python.org/2/library/string.html#formatstrings">Format String Syntax</a> which does not have support for <strong>slicing</strong>, but you can use this workaround to pick a range of single characters. <strong>Beware: this does not check for wrong string positions.</strong></td>
<td>infile: INV_7389.txt generates: 7389.xml</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not change out.ta_info[&#8216;filename&#8217;] in your scripts. Although it may appear to work, it messes up Bots internal file storage.</p>
</div>
<p><strong>User scripting for output filenames</strong></p>
<p>Bots has the capability to set output filenames with a <a class="reference internal" href="../channel-scripting/"><em>communicationscript</em></a>; however this requires a new script for each channel and is somewhat complex. Prior to version 3.0 this was the only method available. It can still be used for difficult requirements (but let us know about your needs through the mailing list, we may be able to integrate it).</p>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../channel-ports/" class="btn btn-neutral float-right" title="Channel Port Numbers" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../channel-scripting/" class="btn btn-neutral" title="Channel Scripting" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, henk-jan ebbers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'3.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>